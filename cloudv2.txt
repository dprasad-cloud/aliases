#Run the below line on AIO to get the aliases installed. Remove # before executing
# file=cloudv2.txt ; wget -O /root/main.zip https://github.com/dprasad-cloud/aliases/archive/refs/heads/main.zip ; unzip -o /root/main.zip -d /root; source /root/aliases-main/$file

alias findpod='kubectl get pods -A | grep '
alias findsvc='kubectl get svc -A | grep '
alias finding='kubectl get ing -A | grep '
alias findcm='kubectl get cm -A | grep '

chmod +x /root/aliases-main/desc.sh
alias desc='/root/aliases-main/desc.sh'

chmod +x /root/aliases-main/configmap.sh
alias cm='/root/aliases-main/configmap.sh'

chmod +x /root/aliases-main/logs.sh
alias logs='/root/aliases-main/logs.sh'

chmod +x /root/aliases-main/logsf.sh
alias logsf='/root/aliases-main/logsf.sh'

chmod +x /root/aliases-main/podbash.sh
alias podbash='/root/aliases-main/podbash.sh'

chmod +x /root/aliases-main/podsh.sh
alias podsh='/root/aliases-main/podsh.sh'

chmod +x /root/aliases-main/podexec.sh
alias podexec='/root/aliases-main/podexec.sh'

hmlogvi () {
  # Pass the user's search term ($1) as the first argument to podexec,
  # and the fixed command (vi /opt/tomcat/logs/hm.log) as the subsequent arguments.
  podexec "$1" vi /opt/tomcat/logs/hm.log
}

echo -e "\n Available Shortcuts - Feel free to use flags like -i as in grep command: findpod -i error"
echo -e "\n "
echo -e "\t findpod <search_key>        : Find pod across all namespaces"
echo -e "\t findsvc <search_key>        : Find service across all namespaces"
echo -e "\t finding <search_key>        : Find ingress across all namespaces"
echo -e "\t findcm <search_key>         : Find configmap across all namespaces"
echo -e "\n "
echo -e "\t desc <search_key>          : Find the pod across all namespaces and get description"
echo -e "\t cm <search_key>            : Find the configmap across all namespaces and get properties"
echo -e "\n "
echo -e "\t logs <search_key>          : Find the pod across all namespaces and get logs"
echo -e "\t logsf <search_key>         : Find the pod across all namespaces and follow logs"
echo -e "\n "
echo -e "\t podbash <search_key>       : Find the pod across all namespaces and bash into the pod"
echo -e "\t podsh <search_key>         : Find the pod across all namespaces and sh into the pod"
echo -e "\n "
echo -e "\n Future Shortcuts (exec, applog etc)"
echo -e "\n "
echo -e "\t Send shortcut suggestions and feedback to dprasad@extremenetworks.com"
echo -e "\n "


